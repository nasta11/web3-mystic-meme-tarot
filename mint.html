<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WitchWeb3 ‚Äî –ú–∏–Ω—Ç–∏–Ω–≥ NFT</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
</head>
<body>

<nav>
  <div class="logo">‚ú® WitchWeb3</div>
  <div class="nav-links">
    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="mint.html">–ú–∏–Ω—Ç–∏–Ω–≥</a>
    <a href="cards.html">–ú–µ–º–Ω—ã–µ –∫–∞—Ä—Ç—ã</a>
    <a href="about.html">–û –ø—Ä–æ–µ–∫—Ç–µ</a>
  </div>
</nav>

<section id="hero">
  <h1>üîÆ –ú–∏–Ω—Ç–∏–Ω–≥ NFT</h1>
  <p>–ü–æ–¥–∫–ª—é—á–∏ –∫–æ—à–µ–ª—ë–∫ –∏ —Å–æ–∑–¥–∞–π —Å–≤–æ–π —Ä–∏—Ç—É–∞–ª –≤ –±–ª–æ–∫—á–µ–π–Ω–µ Polygon.</p>
  <button id="connectWallet">ü™Ñ –ü–æ–¥–∫–ª—é—á–∏—Ç—å MetaMask</button>
  <button id="mintNFT" disabled>‚ú® –ú–∏–Ω—Ç–∏—Ç—å –∑–∞ 0.01 MATIC</button>
</section>

<footer>¬© 2025 WitchWeb3</footer>

<script>
let provider, signer, contract;

async function connectWallet() {
  if (window.ethereum) {
    provider = new ethers.providers.Web3Provider(window.ethereum);
    await provider.send("eth_requestAccounts", []);
    signer = provider.getSigner();
    document.getElementById("mintNFT").disabled = false;
    alert("ü™Ñ –ö–æ—à–µ–ª—ë–∫ –ø–æ–¥–∫–ª—é—á—ë–Ω!");
  } else {
    alert("–£—Å—Ç–∞–Ω–æ–≤–∏ MetaMask, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å ü¶ä");
  }
}

document.getElementById("connectWallet").onclick = connectWallet;

document.getElementById("mintNFT").onclick = async () => {
  const CONTRACT_ADDRESS = "0x0000000000000000000000000000000000000000"; // üëà –ø–æ—Ç–æ–º –∑–∞–º–µ–Ω–∏–º –Ω–∞ —Ç–≤–æ–π –∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
  const ABI = [
    {
      "inputs": [
        { "internalType": "address", "name": "recipient", "type": "address" },
        { "internalType": "string", "name": "tokenURI", "type": "string" }
      ],
      "name": "mintNFT",
      "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ];

  try {
    contract = new ethers.Contract(CONTRACT_ADDRESS, ABI, signer);
    const tx = await contract.mintNFT(
      await signer.getAddress(),
      "ipfs://QmExampleMetadata"
    );
    await tx.wait();
    alert("‚úÖ NFT —É—Å–ø–µ—à–Ω–æ –∑–∞–º–∏–Ω—á–µ–Ω! –ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–π MetaMask üí´");
  } catch (err) {
    alert("‚ö†Ô∏è –û—à–∏–±–∫–∞ –º–∏–Ω—Ç–∞: " + err.message);
  }
};
</script>

</body>
</html>

